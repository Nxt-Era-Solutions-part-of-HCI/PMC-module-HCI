<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PMC Creatie Module + AI Assistant ‚Äî HES Consultancy International</title>
<link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Geist+Mono:wght@400;500&family=Outfit:wght@300;400;500;600;700&family=IBM+Plex+Sans:wght@400;500;600&display=swap" rel="stylesheet">
<style>
:root {
  --hci-gold: #c8a55a; --hci-gold-light: #e0c882;
  --hci-gold-dim: rgba(200,165,90,0.15); --hci-gold-border: rgba(200,165,90,0.25);
  --bg-deep: #08090c; --bg: #0d0f14; --bg-card: #13151c;
  --bg-card-alt: #181a22; --bg-elevated: #1c1e28;
  --border: rgba(255,255,255,0.06); --border-active: rgba(200,165,90,0.35);
  --text: #c8c6d4; --text-dim: #6e6d7a; --text-bright: #f0eef5; --white: #fff;
  --success: #4ade80; --warning: #fbbf24; --info: #60a5fa; --error: #f87171;
  --phase-pmc: #c8a55a; --phase-gtm: #60a5fa; --phase-outreach: #4ade80; --phase-execute: #f472b6;
}
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:'Outfit',sans-serif; background:var(--bg-deep); color:var(--text); min-height:100vh; -webkit-font-smoothing:antialiased; transition:margin-right .3s ease; }
body.ai-open { margin-right:420px; }
.ambient { position:fixed; inset:0; pointer-events:none; z-index:0; background: radial-gradient(ellipse 800px 600px at 10% 20%,rgba(200,165,90,.04) 0%,transparent 70%), radial-gradient(ellipse 600px 800px at 90% 80%,rgba(200,165,90,.03) 0%,transparent 70%); }
.grain { position:fixed; inset:0; pointer-events:none; z-index:999; opacity:.025; background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='g'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.75' numOctaves='4'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23g)'/%3E%3C/svg%3E"); }

/* HEADER */
header { padding:20px 40px; display:flex; align-items:center; justify-content:space-between; border-bottom:1px solid var(--border); position:relative; z-index:10; background:rgba(13,15,20,.8); backdrop-filter:blur(12px); }
.hci-logo { display:flex; align-items:center; gap:14px; }
.hci-mark { width:38px; height:38px; border:2px solid var(--hci-gold); border-radius:6px; display:flex; align-items:center; justify-content:center; font-family:'Geist Mono',monospace; font-size:11px; font-weight:500; color:var(--hci-gold); letter-spacing:.5px; }
.hci-name { font-size:14px; font-weight:500; color:var(--text-bright); letter-spacing:-.2px; }
.hci-name span { color:var(--text-dim); font-weight:300; }
#mainLangToggle .ai-lang-btn { padding:5px 12px; font-size:12px; }
.lang-toggle{display:flex;gap:2px;background:rgba(0,0,0,.3);padding:3px;border-radius:6px;border:1px solid rgba(255,255,255,.06)}
.lang-btn{padding:5px 12px;border:none;border-radius:4px;font-size:12px;font-weight:600;cursor:pointer;transition:all .2s;font-family:'Outfit',sans-serif;background:transparent;color:var(--text-dim)}
.lang-btn.active{background:var(--hci-gold);color:var(--bg-deep)}
.lang-btn:hover:not(.active){color:var(--text)}
.hci-badge { font-family:'Geist Mono',monospace; font-size:10px; padding:5px 12px; border-radius:4px; background:var(--hci-gold-dim); color:var(--hci-gold); border:1px solid var(--hci-gold-border); letter-spacing:.5px; }

/* CONTAINER */
.container { max-width:1280px; margin:0 auto; padding:32px 40px; position:relative; z-index:10; }
.page-hero { margin-bottom:36px; }
.page-hero .kicker { font-family:'Geist Mono',monospace; font-size:11px; color:var(--hci-gold); text-transform:uppercase; letter-spacing:1.5px; margin-bottom:8px; }
.page-hero h1 { font-family:'Instrument Serif',serif; font-size:42px; font-weight:400; color:var(--white); line-height:1.15; margin-bottom:10px; }
.page-hero h1 em { font-style:italic; color:var(--hci-gold-light); }
.page-hero .subtitle { font-size:15px; color:var(--text-dim); line-height:1.6; max-width:640px; }
.page-hero .back-link{display:inline-flex;align-items:center;gap:6px;font-size:12px;color:var(--text-dim);text-decoration:none;margin-bottom:12px;transition:color .2s}
.page-hero .back-link:hover{color:var(--hci-gold)}

/* JOURNEY RAIL */
.journey-rail { display:flex; align-items:center; gap:0; margin-bottom:36px; padding:16px 20px; background:var(--bg-card); border-radius:12px; border:1px solid var(--border); overflow-x:auto; }
.journey-phase { display:flex; align-items:center; gap:10px; padding:8px 16px; border-radius:8px; cursor:pointer; transition:all .2s; white-space:nowrap; }
.journey-phase:hover { background:rgba(255,255,255,.03); }
.journey-phase .jp-dot { width:10px; height:10px; border-radius:50%; flex-shrink:0; border:2px solid; }
.journey-phase .jp-text { font-size:12px; font-weight:500; }
.journey-phase .jp-sub { font-size:10px; color:var(--text-dim); }
.journey-connector { width:32px; height:1px; flex-shrink:0; background:linear-gradient(90deg,var(--text-dim) 50%,transparent 50%); background-size:6px 1px; }
.journey-phase.current .jp-dot { background:var(--hci-gold); border-color:var(--hci-gold); }
.journey-phase.current .jp-text { color:var(--hci-gold); }
.journey-phase.future .jp-dot { border-color:var(--text-dim); background:transparent; }
.journey-phase.future .jp-text { color:var(--text-dim); }

/* PROGRESS */
.progress-bar { display:flex; align-items:center; gap:12px; margin-bottom:32px; }
.progress-track { flex:1; height:4px; background:var(--bg-elevated); border-radius:2px; overflow:hidden; }
.progress-fill { height:100%; background:linear-gradient(90deg,var(--hci-gold),var(--hci-gold-light)); border-radius:2px; transition:width .5s ease; width:0%; }
.progress-label { font-family:'Geist Mono',monospace; font-size:11px; color:var(--hci-gold); white-space:nowrap; }

/* STEP TABS */
.steps-nav { display:flex; gap:4px; margin-bottom:28px; }
.step-tab { flex:1; padding:12px 14px; background:var(--bg-card); border:1px solid var(--border); border-radius:10px; cursor:pointer; transition:all .2s; display:flex; align-items:center; gap:10px; }
.step-tab:hover { border-color:rgba(255,255,255,.1); background:var(--bg-card-alt); }
.step-tab.active { border-color:var(--hci-gold-border); background:var(--hci-gold-dim); }
.step-tab.completed { border-color:rgba(74,222,128,.2); }
.step-tab .st-num { width:28px; height:28px; border-radius:7px; display:flex; align-items:center; justify-content:center; font-family:'Geist Mono',monospace; font-size:12px; font-weight:500; background:rgba(255,255,255,.04); color:var(--text-dim); flex-shrink:0; transition:all .2s; }
.step-tab.active .st-num { background:var(--hci-gold); color:var(--bg-deep); }
.step-tab.completed .st-num { background:var(--success); color:var(--bg-deep); }
.step-tab .st-label { font-size:11px; font-weight:500; color:var(--text-dim); line-height:1.3; }
.step-tab.active .st-label { color:var(--text-bright); }

/* STEP PANELS */
.step-panel { display:none; animation:fadeUp .3s ease; }
.step-panel.active { display:block; }
@keyframes fadeUp { from{opacity:0;transform:translateY(8px)} to{opacity:1;transform:translateY(0)} }
.step-header-block { display:flex; align-items:flex-start; gap:20px; margin-bottom:28px; }
.step-icon { width:56px; height:56px; border-radius:14px; display:flex; align-items:center; justify-content:center; font-size:24px; background:var(--hci-gold-dim); border:1px solid var(--hci-gold-border); flex-shrink:0; }
.step-header-text h2 { font-family:'Instrument Serif',serif; font-size:28px; font-weight:400; color:var(--white); margin-bottom:4px; }
.step-header-text .step-desc { font-size:14px; color:var(--text-dim); line-height:1.5; }

/* CONTENT BLOCKS */
.content-grid { display:grid; grid-template-columns:1fr 1fr; gap:16px; margin-bottom:20px; }
.content-grid.full { grid-template-columns:1fr; }
.block { background:var(--bg-card); border:1px solid var(--border); border-radius:12px; padding:20px 22px; transition:border-color .2s; }
.block:hover { border-color:rgba(255,255,255,.08); }
.block-title { font-family:'Geist Mono',monospace; font-size:10px; font-weight:500; text-transform:uppercase; letter-spacing:1px; margin-bottom:14px; display:flex; align-items:center; gap:8px; }
.block-title .bt-dot { width:6px; height:6px; border-radius:50%; background:var(--hci-gold); }
.action-list { list-style:none; display:flex; flex-direction:column; gap:8px; }
.action-list li { font-size:13px; line-height:1.65; padding-left:22px; position:relative; color:var(--text); }
.action-list li::before { content:''; position:absolute; left:0; top:8px; width:8px; height:8px; border-radius:2px; border:1.5px solid var(--hci-gold); background:transparent; }
.action-list li strong { color:var(--text-bright); font-weight:600; }
.canvas-field { margin-bottom:14px; }
.canvas-field:last-child { margin-bottom:0; }
.canvas-label { font-size:11px; font-weight:600; color:var(--text-dim); text-transform:uppercase; letter-spacing:.5px; margin-bottom:6px; }
.canvas-value { font-size:13px; color:var(--text); background:rgba(255,255,255,.02); border:1px solid var(--border); border-radius:6px; padding:10px 14px; line-height:1.5; min-height:40px; }
.canvas-value.placeholder { color:var(--text-dim); font-style:italic; }
.score-grid { display:flex; flex-direction:column; gap:8px; }
.score-row { display:grid; grid-template-columns:1fr 80px 60px auto; gap:12px; align-items:center; padding:10px 14px; background:rgba(255,255,255,.02); border-radius:6px; border:1px solid var(--border); }
.score-row.header { background:transparent; border:none; padding:4px 14px; }
.score-row .sr-label { font-size:12px; color:var(--text); }
.score-row .sr-score { font-family:'Geist Mono',monospace; font-size:12px; color:var(--text-dim); text-align:center; }
.score-row .sr-weight { font-family:'Geist Mono',monospace; font-size:11px; color:var(--text-dim); text-align:center; }
.score-row .sr-help { font-size:11px; color:var(--text-dim); }
.score-row.header .sr-label,.score-row.header .sr-score,.score-row.header .sr-weight,.score-row.header .sr-help { font-size:10px; text-transform:uppercase; letter-spacing:.5px; font-weight:600; color:var(--hci-gold); }
.offer-cards { display:grid; grid-template-columns:repeat(3,1fr); gap:12px; }
.offer-card { background:rgba(255,255,255,.02); border:1px solid var(--border); border-radius:10px; padding:18px; }
.offer-card .oc-badge { width:36px; height:36px; border-radius:9px; display:flex; align-items:center; justify-content:center; font-family:'Geist Mono',monospace; font-size:14px; font-weight:600; margin-bottom:10px; }
.offer-card:nth-child(1) .oc-badge { background:rgba(96,165,250,.15); color:var(--info); }
.offer-card:nth-child(2) .oc-badge { background:rgba(200,165,90,.15); color:var(--hci-gold); }
.offer-card:nth-child(3) .oc-badge { background:rgba(74,222,128,.15); color:var(--success); }
.offer-card .oc-title { font-size:14px; font-weight:600; color:var(--text-bright); margin-bottom:2px; }
.offer-card .oc-dur { font-family:'Geist Mono',monospace; font-size:11px; color:var(--text-dim); margin-bottom:10px; }
.offer-card .oc-desc { font-size:12px; color:var(--text); margin-bottom:10px; line-height:1.5; }
.offer-card .oc-dels { list-style:none; display:flex; flex-direction:column; gap:4px; }
.offer-card .oc-dels li { font-size:11px; color:var(--text-dim); padding-left:16px; position:relative; }
.offer-card .oc-dels li::before { content:'‚Üí'; position:absolute; left:0; font-size:10px; color:var(--hci-gold); }
.vp-formula { display:flex; flex-wrap:wrap; gap:8px; align-items:center; padding:20px; background:rgba(200,165,90,.05); border:1px solid var(--hci-gold-border); border-radius:10px; margin-bottom:16px; }
.vp-part { padding:8px 14px; border-radius:6px; font-size:13px; }
.vp-brand { background:var(--hci-gold-dim); color:var(--hci-gold); font-weight:600; border:1px solid var(--hci-gold-border); }
.vp-label { color:var(--text-dim); font-size:12px; }
.vp-fill { background:rgba(255,255,255,.04); border:1px dashed var(--border); color:var(--text-dim); font-style:italic; min-width:120px; }
.tools-row { display:flex; flex-wrap:wrap; gap:6px; margin-top:12px; }
.tool-pill { font-family:'Geist Mono',monospace; font-size:10px; padding:4px 10px; border-radius:4px; background:rgba(255,255,255,.03); color:var(--text-dim); border:1px solid var(--border); }
.tip-box { display:flex; gap:12px; padding:14px 18px; background:rgba(200,165,90,.06); border:1px solid var(--hci-gold-border); border-radius:8px; margin-top:16px; align-items:flex-start; }
.tip-box .tip-icon { font-size:16px; flex-shrink:0; margin-top:1px; }
.tip-box .tip-text { font-size:12px; color:var(--text); line-height:1.6; }
.tip-box .tip-text strong { color:var(--hci-gold-light); }
.step-nav-buttons { display:flex; justify-content:space-between; margin-top:32px; padding-top:24px; border-top:1px solid var(--border); }
.nav-btn { padding:10px 22px; border-radius:8px; font-family:'Outfit',sans-serif; font-size:13px; font-weight:500; cursor:pointer; transition:all .2s; display:flex; align-items:center; gap:8px; border:none; }
.nav-btn.secondary { background:var(--bg-card); color:var(--text); border:1px solid var(--border); }
.nav-btn.secondary:hover { border-color:rgba(255,255,255,.12); background:var(--bg-card-alt); }
.nav-btn.primary { background:var(--hci-gold); color:var(--bg-deep); font-weight:600; }
.nav-btn.primary:hover { background:var(--hci-gold-light); }
.nav-btn:disabled { opacity:.3; cursor:not-allowed; }

/* ‚ïê‚ïê‚ïê AI PANEL ‚ïê‚ïê‚ïê */
.ai-fab { position:fixed; bottom:28px; right:28px; z-index:1000; width:60px; height:60px; border-radius:16px; background:linear-gradient(135deg,var(--hci-gold) 0%,#b8923e 100%); border:none; cursor:pointer; display:flex; align-items:center; justify-content:center; box-shadow:0 8px 32px rgba(200,165,90,.35),0 0 60px rgba(200,165,90,.1); transition:all .3s ease; font-size:24px; }
.ai-fab:hover { transform:translateY(-3px) scale(1.05); box-shadow:0 12px 40px rgba(200,165,90,.45); }
.ai-fab.hidden { transform:translateX(100px); opacity:0; pointer-events:none; }
.ai-fab .fab-pulse { position:absolute; inset:-4px; border-radius:20px; border:2px solid var(--hci-gold); opacity:0; animation:fabPulse 2.5s ease-out infinite; }
@keyframes fabPulse { 0%{opacity:.6;transform:scale(1)} 100%{opacity:0;transform:scale(1.3)} }

.ai-panel { position:fixed; top:0; right:-440px; bottom:0; width:420px; z-index:1001; display:flex; flex-direction:column; background:var(--bg); border-left:1px solid var(--border); box-shadow:-8px 0 40px rgba(0,0,0,.5); transition:right .3s cubic-bezier(.4,0,.2,1); }
.ai-panel.open { right:0; }
.ai-header { padding:18px 20px; border-bottom:1px solid var(--border); background:linear-gradient(135deg,rgba(200,165,90,.12) 0%,rgba(13,15,20,.95) 100%); position:relative; overflow:hidden; }
.ai-header::before { content:''; position:absolute; inset:0; background:url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none'%3E%3Cg fill='%23c8a55a' fill-opacity='.04'%3E%3Cpath d='M20 20h-4v-4h4v4zm0-20h-4v4h4V0zM0 20h4v-4H0v4z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"); }
.ai-header-inner { position:relative; z-index:1; }
.ai-header-top { display:flex; justify-content:space-between; align-items:center; }
.ai-header-left { display:flex; align-items:center; gap:10px; }
.ai-logo-icon { width:34px; height:34px; border-radius:8px; background:linear-gradient(135deg,var(--hci-gold) 0%,#b8923e 100%); display:flex; align-items:center; justify-content:center; font-family:'Geist Mono',monospace; font-size:11px; font-weight:600; color:var(--bg-deep); box-shadow:0 2px 8px rgba(200,165,90,.3); }
.ai-header-title { font-size:15px; font-weight:600; color:var(--text-bright); }
.ai-header-sub { font-size:11px; color:var(--text-dim); }
.ai-header-actions { display:flex; align-items:center; gap:8px; }
.ai-lang-toggle { display:flex; gap:2px; background:rgba(0,0,0,.3); padding:3px; border-radius:6px; border:1px solid rgba(255,255,255,.06); }
.ai-lang-btn { padding:4px 10px; border:none; border-radius:4px; font-size:11px; font-weight:600; cursor:pointer; transition:all .2s; font-family:'Outfit',sans-serif; background:transparent; color:var(--text-dim); }
.ai-lang-btn.active { background:var(--hci-gold); color:var(--bg-deep); }
.ai-lang-btn:hover:not(.active) { color:var(--text); }
.ai-close-btn { width:30px; height:30px; border-radius:6px; border:1px solid var(--border); background:rgba(255,255,255,.04); color:var(--text-dim); cursor:pointer; display:flex; align-items:center; justify-content:center; font-size:16px; transition:all .2s; }
.ai-close-btn:hover { background:rgba(255,255,255,.08); color:var(--text); }
.ai-context { margin-top:10px; display:flex; align-items:center; gap:8px; padding:6px 10px; background:rgba(200,165,90,.08); border:1px solid rgba(200,165,90,.15); border-radius:6px; font-size:11px; color:var(--hci-gold); font-family:'Geist Mono',monospace; }
.ai-context-dot { width:6px; height:6px; border-radius:50%; background:var(--success); animation:ctxBlink 2s ease-in-out infinite; }
@keyframes ctxBlink { 0%,100%{opacity:1} 50%{opacity:.4} }

.ai-chat { flex:1; overflow-y:auto; padding:16px 20px; scroll-behavior:smooth; }
.ai-chat::-webkit-scrollbar { width:5px; }
.ai-chat::-webkit-scrollbar-track { background:rgba(255,255,255,.02); }
.ai-chat::-webkit-scrollbar-thumb { background:rgba(200,165,90,.3); border-radius:3px; }
.ai-msg { margin-bottom:16px; animation:aiSlide .3s ease-out; }
@keyframes aiSlide { from{opacity:0;transform:translateY(8px)} to{opacity:1;transform:translateY(0)} }
.ai-msg-head { display:flex; align-items:center; gap:6px; margin-bottom:6px; font-size:11px; color:var(--text-dim); }
.ai-msg-avatar { width:20px; height:20px; border-radius:5px; display:flex; align-items:center; justify-content:center; font-size:9px; font-weight:600; }
.ai-msg.user .ai-msg-avatar { background:linear-gradient(135deg,var(--warning) 0%,#FF6B35 100%); color:#fff; }
.ai-msg.assistant .ai-msg-avatar { background:linear-gradient(135deg,var(--hci-gold) 0%,#b8923e 100%); color:var(--bg-deep); font-family:'Geist Mono',monospace; }
.ai-msg-body { padding:12px 16px; border-radius:10px; font-size:13px; line-height:1.6; max-width:92%; font-family:'IBM Plex Sans',sans-serif; }
.ai-msg.user .ai-msg-body { background:rgba(200,165,90,.1); border:1px solid rgba(200,165,90,.2); margin-left:auto; }
.ai-msg.assistant .ai-msg-body { background:var(--bg-card); border:1px solid var(--border); }
.ai-typing { display:none; align-items:center; gap:4px; padding:12px 16px; background:var(--bg-card); border:1px solid var(--border); border-radius:10px; width:fit-content; margin:0 20px 12px; }
.ai-typing.active { display:flex; }
.ai-typing-dot { width:5px; height:5px; background:var(--text-dim); border-radius:50%; animation:aiDot 1.4s ease-in-out infinite; }
.ai-typing-dot:nth-child(2) { animation-delay:.2s; }
.ai-typing-dot:nth-child(3) { animation-delay:.4s; }
@keyframes aiDot { 0%,60%,100%{opacity:.3;transform:translateY(0)} 30%{opacity:1;transform:translateY(-6px)} }

.ai-input-area { padding:12px 16px 16px; border-top:1px solid var(--border); background:rgba(8,9,12,.8); }
.ai-quick-actions { display:flex; gap:6px; margin-bottom:10px; flex-wrap:wrap; }
.ai-quick-btn { background:var(--hci-gold-dim); border:1px solid var(--hci-gold-border); color:var(--hci-gold); padding:5px 10px; border-radius:6px; font-size:11px; cursor:pointer; transition:all .2s; font-family:'Outfit',sans-serif; white-space:nowrap; }
.ai-quick-btn:hover { background:rgba(200,165,90,.25); border-color:var(--hci-gold); }
.ai-input-row { display:flex; gap:8px; align-items:flex-end; }
.ai-textarea { flex:1; background:var(--bg-card); border:1px solid var(--border); border-radius:10px; padding:10px 14px; color:var(--text-bright); font-size:13px; font-family:'IBM Plex Sans',sans-serif; resize:none; max-height:100px; transition:all .2s; }
.ai-textarea:focus { outline:none; border-color:var(--hci-gold-border); box-shadow:0 0 0 3px rgba(200,165,90,.08); }
.ai-textarea::placeholder { color:var(--text-dim); }
.ai-voice-btn { background:var(--hci-gold-dim); border:1px solid var(--hci-gold-border); color:var(--hci-gold); border-radius:10px; padding:10px 12px; cursor:pointer; transition:all .2s; display:flex; align-items:center; font-size:13px; min-width:44px; justify-content:center; }
.ai-voice-btn:hover { background:rgba(200,165,90,.25); }
.ai-voice-btn:disabled { opacity:.4; cursor:not-allowed; }
.ai-voice-btn.recording { background:rgba(248,113,113,.15); border-color:var(--error); color:var(--error); animation:recPulse 1.5s ease-in-out infinite; }
@keyframes recPulse { 0%,100%{box-shadow:0 0 0 0 rgba(248,113,113,.4)} 50%{box-shadow:0 0 0 6px rgba(248,113,113,0)} }
.ai-send-btn { background:linear-gradient(135deg,var(--hci-gold) 0%,#b8923e 100%); border:none; border-radius:10px; padding:10px 18px; color:var(--bg-deep); font-size:13px; font-weight:600; cursor:pointer; transition:all .2s; font-family:'Outfit',sans-serif; box-shadow:0 2px 8px rgba(200,165,90,.25); }
.ai-send-btn:hover:not(:disabled) { transform:translateY(-1px); box-shadow:0 4px 12px rgba(200,165,90,.35); }
.ai-send-btn:disabled { opacity:.4; cursor:not-allowed; }
.ai-footer { padding:8px 16px; text-align:center; font-size:10px; color:var(--text-dim); border-top:1px solid var(--border); background:rgba(8,9,12,.6); }
.ai-footer a { color:var(--hci-gold); text-decoration:none; }

/* RESPONSIVE */
@media(max-width:900px) {
  .container{padding:20px} header{padding:16px 20px} .content-grid{grid-template-columns:1fr} .offer-cards{grid-template-columns:1fr} .steps-nav{flex-wrap:wrap} .step-tab{min-width:calc(50% - 4px)} .page-hero h1{font-size:30px} .score-row{grid-template-columns:1fr 60px 50px} .score-row .sr-help{display:none} .journey-rail{overflow-x:auto} body.ai-open{margin-right:0} .ai-panel{width:100%;right:-100%}
}
</style>
</head>
<body>
<div class="ambient"></div><div class="grain"></div>

<header>
  <div class="hci-logo"><div class="hci-mark">HCI</div><div class="hci-name">HES Consultancy International</div></div>
  <div style="display:flex;align-items:center;gap:14px;">
    <div class="lang-toggle" id="mainLangToggle"><button class="lang-btn active" id="mainLangNL" onclick="setPageLang('nl')">NL</button><button class="lang-btn" id="mainLangEN" onclick="setPageLang('en')">EN</button></div>
    <div class="hci-badge">FROM STRATEGY TO FIRST CUSTOMER</div>
  </div>
</header>

<div class="container">
  <div class="page-hero">
    <a href="/" class="back-link">‚Üê Terug naar overzicht</a>
    <div class="kicker">Fase 1 ‚Äî Onboarding Module</div>
    <h1>Product-Markt Combinatie <em>Creatie</em></h1>
    <p class="subtitle">Van strategie naar een gevalideerde, markt-ready propositie. 5 bouwstenen die je sequentieel doorloopt ‚Äî elk met concrete deliverables.</p>
  </div>

  <div class="journey-rail">
    <div class="journey-phase current"><div class="jp-dot" style="border-color:var(--phase-pmc);background:var(--phase-pmc)"></div><div><div class="jp-text" style="color:var(--phase-pmc)">PMC Creatie</div><div class="jp-sub">5 bouwstenen</div></div></div>
    <div class="journey-connector"></div><div class="journey-phase future"><div class="jp-dot" style="border-color:var(--phase-gtm)"></div><div><div class="jp-text">GTM Voorbereiding</div><div class="jp-sub">Pitch, CRM, Campaign Box</div></div></div>
    <div class="journey-connector"></div><div class="journey-phase future"><div class="jp-dot" style="border-color:var(--phase-outreach)"></div><div><div class="jp-text">Outreach & Engagement</div><div class="jp-sub">Multi-channel executie</div></div></div>
    <div class="journey-connector"></div><div class="journey-phase future"><div class="jp-dot" style="border-color:var(--phase-execute)"></div><div><div class="jp-text">Sales Executie</div><div class="jp-sub">CMO‚ÜíFMO, deal close</div></div></div>
  </div>

  <div class="progress-bar"><div class="progress-track"><div class="progress-fill" id="progressFill"></div></div><div class="progress-label" id="progressLabel">0 / 5 afgerond</div></div>

  <div class="steps-nav" id="stepsNav">
    <div class="step-tab active" onclick="goStep(0)"><div class="st-num">1</div><div class="st-label">Doelmarkt<br>Definitie</div></div>
    <div class="step-tab" onclick="goStep(1)"><div class="st-num">2</div><div class="st-label">Kernprobleem<br>(Pain)</div></div>
    <div class="step-tab" onclick="goStep(2)"><div class="st-num">3</div><div class="st-label">Waarde-<br>propositie</div></div>
    <div class="step-tab" onclick="goStep(3)"><div class="st-num">4</div><div class="st-label">Offer<br>Packaging</div></div>
    <div class="step-tab" onclick="goStep(4)"><div class="st-num">5</div><div class="st-label">Partnerships<br>& Funding</div></div>
  </div>

  <!-- STEP 1 -->
  <div class="step-panel active" id="step0">
    <div class="step-header-block"><div class="step-icon">üéØ</div><div class="step-header-text"><h2>Doelmarkt Definitie</h2><p class="step-desc">Wie is je ideale klant? Welk segment, welke urgentie, hoe groot is de markt?</p></div></div>
    <div class="content-grid">
      <div class="block"><div class="block-title"><span class="bt-dot"></span> Doelmarkt Canvas</div>
        <div class="canvas-field"><div class="canvas-label">Segment</div><div class="canvas-value placeholder">Welke verticaal of niche?</div></div>
        <div class="canvas-field"><div class="canvas-label">Omvang</div><div class="canvas-value placeholder">Hoeveel organisaties? TAM / SAM / SOM?</div></div>
        <div class="canvas-field"><div class="canvas-label">Urgentie</div><div class="canvas-value placeholder">Waarom nu? Regelgeving, budget cycle, disruptie?</div></div>
        <div class="canvas-field"><div class="canvas-label">Budget</div><div class="canvas-value placeholder">Beschikbaar budget per project?</div></div>
        <div class="canvas-field"><div class="canvas-label">Toegang</div><div class="canvas-value placeholder">Via partners, netwerk, events, cold outreach?</div></div>
        <div class="canvas-field"><div class="canvas-label">Procurement</div><div class="canvas-value placeholder">Aanbesteding? Raamcontract? Direct?</div></div>
        <div class="canvas-field"><div class="canvas-label">Capability Fit</div><div class="canvas-value placeholder">Welke capabilities sluiten aan?</div></div>
      </div>
      <div class="block"><div class="block-title"><span class="bt-dot"></span> Segment Scoring (1-5)</div>
        <div class="score-grid">
          <div class="score-row header"><div class="sr-label">Criterium</div><div class="sr-score">Score</div><div class="sr-weight">Weging</div><div class="sr-help">Toelichting</div></div>
          <div class="score-row"><div class="sr-label">Time-to-deal</div><div class="sr-score">_ /5</div><div class="sr-weight">20%</div><div class="sr-help">Hoe snel kan eerste project starten?</div></div>
          <div class="score-row"><div class="sr-label">Toegang</div><div class="sr-score">_ /5</div><div class="sr-weight">20%</div><div class="sr-help">Directe contacten of intro's nodig?</div></div>
          <div class="score-row"><div class="sr-label">Budget & urgentie</div><div class="sr-score">_ /5</div><div class="sr-weight">25%</div><div class="sr-help">Budget + dringende behoefte?</div></div>
          <div class="score-row"><div class="sr-label">Procurement</div><div class="sr-score">_ /5</div><div class="sr-weight">15%</div><div class="sr-help">Complexiteit inkoop</div></div>
          <div class="score-row"><div class="sr-label">Capability fit</div><div class="sr-score">_ /5</div><div class="sr-weight">20%</div><div class="sr-help">Match met capabilities</div></div>
          <div class="score-row" style="border-color:var(--hci-gold-border)"><div class="sr-label" style="font-weight:600;color:var(--text-bright)">TOTAAL</div><div class="sr-score" style="color:var(--hci-gold);font-weight:600">_ /25</div><div class="sr-weight">100%</div><div class="sr-help">Gewogen totaal</div></div>
        </div>
        <div class="tip-box"><div class="tip-icon">üí°</div><div class="tip-text"><strong>HCI Tip:</strong> Score elk sub-segment apart. Gebruik propensity data van je vendor partner als aanvulling.</div></div>
      </div>
    </div>
    <div class="tools-row"><span class="tool-pill">PMC Canvas</span><span class="tool-pill">Marktdata</span><span class="tool-pill">HCI Database</span><span class="tool-pill">Vendor data</span></div>
    <div class="step-nav-buttons"><button class="nav-btn secondary" disabled>‚Üê Vorige</button><button class="nav-btn primary" onclick="goStep(1)">Volgende: Kernprobleem ‚Üí</button></div>
  </div>

  <!-- STEP 2 -->
  <div class="step-panel" id="step1">
    <div class="step-header-block"><div class="step-icon">üî•</div><div class="step-header-text"><h2>Kernprobleem (Pain) Mapping</h2><p class="step-desc">Wat blokkeert je doelgroep? Wie voelt de pijn het meest? 6 vragen sequentieel beantwoorden.</p></div></div>
    <div class="content-grid">
      <div class="block"><div class="block-title"><span class="bt-dot"></span> Pain Discovery ‚Äî 6 Vragen</div>
        <ul class="action-list">
          <li><strong>Vraag 1 ‚Äî Wat probeert de klant te bereiken?</strong><br>Strategisch doel: digitalisering, AI integratie, compliance, groei...</li>
          <li><strong>Vraag 2 ‚Äî Wat blokkeert hen?</strong><br>Technisch, organisatorisch, compliance, kennis, budget, politiek?</li>
          <li><strong>Vraag 3 ‚Äî Impact van niets doen?</strong><br>Risico, kosten, concurrentiepositie, compliance boetes?</li>
          <li><strong>Vraag 4 ‚Äî Wie voelt de pijn?</strong><br>CIO, CISO, CFO, CEO, Compliance Officer?</li>
          <li><strong>Vraag 5 ‚Äî Wat al geprobeerd?</strong><br>Interne pogingen, andere leveranciers, pilots?</li>
          <li><strong>Vraag 6 ‚Äî Wat triggert actie NU?</strong><br>Deadline, budget cycle, incident, management wissel?</li>
        </ul>
      </div>
      <div class="block"><div class="block-title"><span class="bt-dot"></span> Pain Validatie & Decision Makers</div>
        <ul class="action-list">
          <li><strong>Extern:</strong> Analyst reports, sector rapporten, regelgeving</li>
          <li><strong>Vendor:</strong> Partner portals, propensity data</li>
          <li><strong>Direct:</strong> Klantgesprekken, Revynu benchmarks</li>
          <li><strong>Intern:</strong> HCI netwerk, partner intelligence</li>
        </ul>
        <div class="tip-box"><div class="tip-icon">üí°</div><div class="tip-text"><strong>HCI Tip:</strong> Revynu benchmark = 62% response rate vs 2-5% cold outreach.</div></div>
        <div style="margin-top:16px"><div class="block-title"><span class="bt-dot"></span> Decision Maker Mapping</div>
          <div class="canvas-field"><div class="canvas-label">Economic Buyer</div><div class="canvas-value placeholder">Wie tekent? Budget niveau?</div></div>
          <div class="canvas-field"><div class="canvas-label">Technical Buyer</div><div class="canvas-value placeholder">Wie evalueert?</div></div>
          <div class="canvas-field"><div class="canvas-label">Champion</div><div class="canvas-value placeholder">Intern voorstander?</div></div>
          <div class="canvas-field"><div class="canvas-label">Blocker</div><div class="canvas-value placeholder">Wie kan tegenhouden?</div></div>
        </div>
      </div>
    </div>
    <div class="tools-row"><span class="tool-pill">Pain Canvas</span><span class="tool-pill">Revynu</span><span class="tool-pill">Analyst Reports</span><span class="tool-pill">HCI Network</span></div>
    <div class="step-nav-buttons"><button class="nav-btn secondary" onclick="goStep(0)">‚Üê Doelmarkt</button><button class="nav-btn primary" onclick="goStep(2)">Volgende: Waardepropositie ‚Üí</button></div>
  </div>

  <!-- STEP 3 -->
  <div class="step-panel" id="step2">
    <div class="step-header-block"><div class="step-icon">üíé</div><div class="step-header-text"><h2>Waardepropositie Formuleren</h2><p class="step-desc">E√©n zin: wie je helpt, tijdframe, van A naar B. Intern verkoopbaar.</p></div></div>
    <div class="content-grid full"><div class="block"><div class="block-title"><span class="bt-dot"></span> Waardepropositie Formule</div>
      <div class="vp-formula"><div class="vp-part vp-brand">[Bedrijfsnaam]</div><div class="vp-part vp-label">helpt</div><div class="vp-part vp-fill">[DOELGROEP]</div><div class="vp-part vp-label">in</div><div class="vp-part vp-fill">[TIJDFRAME]</div><div class="vp-part vp-label">van</div><div class="vp-part vp-fill">[SITUATIE A]</div><div class="vp-part vp-label">naar</div><div class="vp-part vp-fill">[SITUATIE B]</div></div>
    </div></div>
    <div class="content-grid">
      <div class="block"><div class="block-title"><span class="bt-dot"></span> 4 Componenten</div>
        <div class="canvas-field"><div class="canvas-label">Doelgroep</div><div class="canvas-value placeholder">Specifieke beslisser, niet "bedrijven"</div></div>
        <div class="canvas-field"><div class="canvas-label">Tijdframe</div><div class="canvas-value placeholder">"6-10 weken", niet "snel"</div></div>
        <div class="canvas-field"><div class="canvas-label">Van (A)</div><div class="canvas-value placeholder">Huidige pijn in klantwoorden</div></div>
        <div class="canvas-field"><div class="canvas-label">Naar (B)</div><div class="canvas-value placeholder">Meetbaar resultaat</div></div>
      </div>
      <div class="block"><div class="block-title"><span class="bt-dot"></span> Propositie Toets</div>
        <ul class="action-list">
          <li><strong>Specifiek genoeg?</strong> Kan een concurrent dezelfde zin gebruiken?</li>
          <li><strong>Intern verkoopbaar?</strong> Champion kan het uitleggen in 1 zin?</li>
          <li><strong>Meetbaar?</strong> Objectief gelukt/niet gelukt?</li>
          <li><strong>Urgentie?</strong> Reden om NU te beginnen?</li>
          <li><strong>Differenti√´rend?</strong> Waarom jij?</li>
        </ul>
        <div class="tip-box"><div class="tip-icon">üí°</div><div class="tip-text"><strong>HCI Tip:</strong> Dit wordt de kern van al je outreach. Test met 3-5 mensen.</div></div>
      </div>
    </div>
    <div class="tools-row"><span class="tool-pill">VP Formule</span><span class="tool-pill">Klantfeedback</span><span class="tool-pill">Pitch Test</span></div>
    <div class="step-nav-buttons"><button class="nav-btn secondary" onclick="goStep(1)">‚Üê Kernprobleem</button><button class="nav-btn primary" onclick="goStep(3)">Volgende: Offer Packaging ‚Üí</button></div>
  </div>

  <!-- STEP 4 -->
  <div class="step-panel" id="step3">
    <div class="step-header-block"><div class="step-icon">üì¶</div><div class="step-header-text"><h2>Offer Packaging: A-B-C Model</h2><p class="step-desc">Modulaire sprints. A = voet in de deur, B = kernlevering, C = recurring.</p></div></div>
    <div class="content-grid full"><div class="block"><div class="block-title"><span class="bt-dot"></span> Drie Sprints</div>
      <div class="offer-cards">
        <div class="offer-card"><div class="oc-badge">A</div><div class="oc-title">Assessment</div><div class="oc-dur">1-3 weken</div><div class="oc-desc">Inventarisatie, gap analyse, roadmap.</div><ul class="oc-dels"><li>Inventarisatie</li><li>Gap analyse</li><li>Roadmap</li><li>Business case B+C</li></ul></div>
        <div class="offer-card"><div class="oc-badge">B</div><div class="oc-title">Build</div><div class="oc-dur">3-6 weken</div><div class="oc-desc">Implementatie, deliverables, KT.</div><ul class="oc-dels"><li>Technische impl.</li><li>Config & integratie</li><li>Kennisoverdracht</li><li>Compliance check</li></ul></div>
        <div class="offer-card"><div class="oc-badge">C</div><div class="oc-title">Optimize</div><div class="oc-dur">Ongoing</div><div class="oc-desc">Adoptie, ROI, uitbreiding.</div><ul class="oc-dels"><li>Adoptie programma</li><li>Analytics & ROI</li><li>Extra use cases</li><li>Managed service</li></ul></div>
      </div>
    </div></div>
    <div class="content-grid">
      <div class="block"><div class="block-title"><span class="bt-dot"></span> Per Sprint Invullen</div>
        <div class="canvas-field"><div class="canvas-label">Sprint A ‚Äî Naam & Scope</div><div class="canvas-value placeholder">"Readiness Sprint", "AI Maturity Scan"</div></div>
        <div class="canvas-field"><div class="canvas-label">Sprint A ‚Äî Deliverables</div><div class="canvas-value placeholder">Concrete output?</div></div>
        <div class="canvas-field"><div class="canvas-label">Sprint B ‚Äî Naam & Scope</div><div class="canvas-value placeholder">"Platform Deploy", "Secure Foundation"</div></div>
        <div class="canvas-field"><div class="canvas-label">Sprint C ‚Äî Naam & Scope</div><div class="canvas-value placeholder">"Adoption Program", "Managed Service"</div></div>
      </div>
      <div class="block"><div class="block-title"><span class="bt-dot"></span> Pricing Principes</div>
        <ul class="action-list">
          <li><strong>Sprint A laag houden</strong> ‚Äî voet in de deur</li>
          <li><strong>Sprint B = kernomzet</strong> ‚Äî prijs op waarde</li>
          <li><strong>Sprint C = recurring</strong> ‚Äî managed service</li>
          <li><strong>Bundel:</strong> Korting bij A+B+C pakket</li>
          <li><strong>Vendor funding:</strong> Incentives verlagen klantprijs</li>
        </ul>
        <div class="tip-box"><div class="tip-icon">üí°</div><div class="tip-text"><strong>HCI Tip:</strong> Sprint A = Revynu opvolging. Benchmark ‚Üí urgentie ‚Üí Sprint A diagnose.</div></div>
      </div>
    </div>
    <div class="tools-row"><span class="tool-pill">A-B-C Canvas</span><span class="tool-pill">Pricing</span><span class="tool-pill">Vendor Funding</span></div>
    <div class="step-nav-buttons"><button class="nav-btn secondary" onclick="goStep(2)">‚Üê Waardepropositie</button><button class="nav-btn primary" onclick="goStep(4)">Volgende: Partnerships ‚Üí</button></div>
  </div>

  <!-- STEP 5 -->
  <div class="step-panel" id="step4">
    <div class="step-header-block"><div class="step-icon">ü§ù</div><div class="step-header-text"><h2>Strategische Partnerships & Funding</h2><p class="step-desc">Vendor afstemming, channel partners, financieringsroutes.</p></div></div>
    <div class="content-grid">
      <div class="block"><div class="block-title"><span class="bt-dot"></span> Vendor / Ecosystem</div>
        <div class="canvas-field"><div class="canvas-label">Primaire Vendor</div><div class="canvas-value placeholder">Microsoft, AWS, eigen stack?</div></div>
        <div class="canvas-field"><div class="canvas-label">Solution Area</div><div class="canvas-value placeholder">Welk vendor programma?</div></div>
        <div class="canvas-field"><div class="canvas-label">Certificeringen</div><div class="canvas-value placeholder">Vereist? Gaps?</div></div>
        <div class="canvas-field"><div class="canvas-label">Channel Partners</div><div class="canvas-value placeholder">Resellers, SI's?</div></div>
        <div class="canvas-field"><div class="canvas-label">Vendor Contacten</div><div class="canvas-value placeholder">AE, TSP, Partner Manager?</div></div>
      </div>
      <div class="block"><div class="block-title"><span class="bt-dot"></span> Funding & Incentives</div>
        <ul class="action-list">
          <li><strong>Vendor funding:</strong> MCI, Azure Accelerate, AWS Credits</li>
          <li><strong>Co-sell:</strong> Marketplace, referral program</li>
          <li><strong>EU funding:</strong> Subsidies, WBSO/RDA</li>
          <li><strong>Sector:</strong> SURF, ZonMw, etc.</li>
          <li><strong>Portal:</strong> Co-sell opportunity, propensity data</li>
        </ul>
        <div class="tip-box"><div class="tip-icon">üí°</div><div class="tip-text"><strong>HCI Tip:</strong> Vendor funding kan Sprint A gratis maken voor de klant.</div></div>
      </div>
    </div>
    <div class="content-grid full"><div class="block"><div class="block-title"><span class="bt-dot"></span> PMC Completeness Checklist</div>
      <ul class="action-list">
        <li>Doelmarkt gedefinieerd en gescoord</li><li>Kernprobleem gevalideerd (min. 2 bronnen)</li>
        <li>Waardepropositie geformuleerd en getest</li><li>A-B-C packaging met pricing</li>
        <li>Vendor alignment en funding routes</li><li>Top-10/20 target accounts</li>
        <li>PMC gereed voor <strong>GTM Voorbereiding</strong></li>
      </ul>
    </div></div>
    <div class="tools-row"><span class="tool-pill">Partnership Canvas</span><span class="tool-pill">Funding Guide</span><span class="tool-pill">Vendor Portal</span><span class="tool-pill">HCI Network</span></div>
    <div class="step-nav-buttons"><button class="nav-btn secondary" onclick="goStep(3)">‚Üê Offer Packaging</button><button class="nav-btn primary" onclick="completePMC()" style="background:var(--success)">‚úì PMC Afronden ‚Üí Start GTM</button></div>
  </div>
</div>

<!-- AI FAB -->
<button class="ai-fab" id="aiFab" onclick="toggleAI()" title="AI Assistant"><span>ü§ñ</span><div class="fab-pulse"></div></button>

<!-- AI PANEL -->
<div class="ai-panel" id="aiPanel">
  <div class="ai-header"><div class="ai-header-inner">
    <div class="ai-header-top">
      <div class="ai-header-left"><div class="ai-logo-icon">AI</div><div><div class="ai-header-title">HCI AI Assistant</div><div class="ai-header-sub">Powered by Claude ¬∑ PMC Module</div></div></div>
      <div class="ai-header-actions">
        <div class="ai-lang-toggle"><button class="ai-lang-btn active" id="aiLangNL" onclick="setAILang('nl')">NL</button><button class="ai-lang-btn" id="aiLangEN" onclick="setAILang('en')">EN</button></div>
        <button class="ai-close-btn" onclick="toggleAI()">‚úï</button>
      </div>
    </div>
    <div class="ai-context" id="aiContext"><div class="ai-context-dot"></div><span id="aiCtxText">Stap 1 ‚Äî Doelmarkt Definitie</span></div>
  </div></div>

  <div class="ai-chat" id="aiChat">
    <div class="ai-msg assistant"><div class="ai-msg-head"><div class="ai-msg-avatar">AI</div><span>HCI Assistant</span></div>
      <div class="ai-msg-body"><p>Welkom! üëã Ik ben de HCI AI Assistant.</p><p style="margin-top:8px">Ik begeleid je bij elke PMC stap met context-aware advies:</p><p style="margin-top:8px">üéØ Doelmarkt &nbsp; üî• Pain &nbsp; üíé Waardepropositie<br>üì¶ Offer Packaging &nbsp; ü§ù Partnerships</p><p style="margin-top:8px">Gebruik de snelknoppen of stel je vraag.</p></div>
    </div>
  </div>

  <div class="ai-typing" id="aiTyping"><div class="ai-typing-dot"></div><div class="ai-typing-dot"></div><div class="ai-typing-dot"></div></div>

  <div class="ai-input-area">
    <div class="ai-quick-actions" id="aiQA">
      <button class="ai-quick-btn" onclick="aiQuick('help')">üí° Help bij deze stap</button>
      <button class="ai-quick-btn" onclick="aiQuick('example')">üìù Geef voorbeeld</button>
      <button class="ai-quick-btn" onclick="aiQuick('review')">‚úÖ Review checklist</button>
    </div>
    <div class="ai-input-row">
      <textarea class="ai-textarea" id="aiInput" placeholder="Stel je vraag over de PMC..." rows="1" onkeypress="if(event.key==='Enter'&&!event.shiftKey){event.preventDefault();aiSend()}"></textarea>
      <button class="ai-voice-btn" id="aiVoiceBtn" onclick="aiToggleVoice()"><span id="aiVoiceIcon">üé§</span></button>
      <button class="ai-send-btn" id="aiSendBtn" onclick="aiSend()">Verstuur</button>
    </div>
  </div>
  <div class="ai-footer"><span id="aiFooter">PMC Module ¬∑ <a href="https://hes-consultancy-international.com" target="_blank">HES Consultancy International</a> ¬∑ Claude API</span></div>
</div>

<script>
/* ‚ïê‚ïê‚ïê PMC LOGIC ‚ïê‚ïê‚ïê */
let currentStep=0; const totalSteps=5; const completedSteps=new Set();
const stepNames={nl:['Doelmarkt Definitie','Kernprobleem (Pain)','Waardepropositie','Offer Packaging','Partnerships & Funding'],en:['Target Market','Core Problem (Pain)','Value Proposition','Offer Packaging','Partnerships & Funding']};

function goStep(i){if(currentStep!==i)completedSteps.add(currentStep);currentStep=i;
document.querySelectorAll('.step-panel').forEach((p,j)=>p.classList.toggle('active',j===i));
document.querySelectorAll('.step-tab').forEach((t,j)=>{t.classList.remove('active','completed');if(j===i)t.classList.add('active');else if(completedSteps.has(j))t.classList.add('completed')});
const pct=(completedSteps.size/totalSteps)*100;document.getElementById('progressFill').style.width=pct+'%';
document.getElementById('progressLabel').textContent=completedSteps.size+' / '+totalSteps+' afgerond';
document.querySelector('.container').scrollIntoView({behavior:'smooth',block:'start'});updateCtx()}

function completePMC(){completedSteps.add(4);document.getElementById('progressFill').style.width='100%';
document.getElementById('progressLabel').textContent='5 / 5 afgerond ‚Äî PMC Compleet!';document.getElementById('progressLabel').style.color='var(--success)';
document.querySelectorAll('.step-tab').forEach(t=>{t.classList.remove('active');t.classList.add('completed')});
if(confirm('PMC Creatie afgerond! ‚úì\n\nDoorschakelen naar Fase 2: GTM Voorbereiding?')){window.location.href='/gtm'}}

/* ‚ïê‚ïê‚ïê AI ASSISTANT ‚ïê‚ïê‚ïê */
let aiLang='nl',aiHistory=[],aiOpen=false;

const aiTxt={nl:{ph:'Stel je vraag over de PMC...',send:'Verstuur',ctxPre:'Stap',qa:[{l:'üí° Help bij deze stap',k:'help'},{l:'üìù Geef voorbeeld',k:'example'},{l:'‚úÖ Review checklist',k:'review'}],
qm:{help:'Leg uit wat ik moet doen in deze stap en geef praktische tips.',example:'Geef een concreet ingevuld voorbeeld voor deze PMC stap, voor een B2B tech bedrijf dat de EU markt betreedt.',review:'Wat zijn de meest voorkomende fouten bij deze stap? Waar moet ik op letten?'},
err:'‚ö†Ô∏è Kon geen verbinding maken. Probeer opnieuw.',
u:'Jij',a:'HCI Assistant',sl:'nl-NL',vd:'Microfoon geweigerd.',vu:'Spraak niet ondersteund. Probeer Chrome.'},
en:{ph:'Ask about the PMC...',send:'Send',ctxPre:'Step',qa:[{l:'üí° Help with step',k:'help'},{l:'üìù Show example',k:'example'},{l:'‚úÖ Review checklist',k:'review'}],
qm:{help:'Explain what I need to do in this step and give practical tips.',example:'Give a concrete example for this PMC step, for a B2B tech company entering the EU market.',review:'What are common mistakes in this step? What should I watch out for?'},
err:'‚ö†Ô∏è Could not connect. Try again.',
u:'You',a:'HCI Assistant',sl:'en-GB',vd:'Microphone denied.',vu:'Speech not supported. Try Chrome.'}};

const API_ENDPOINT = '/api/chat';

function getSysPrompt(){const s=currentStep+1,sn=stepNames[aiLang][currentStep],l=aiLang==='nl'?'Dutch':'English';
return `You are the HCI AI Assistant in the PMC (Product-Market Combination) Creation Module of HES Consultancy International.

CONTEXT: User is on Step ${s}/5: "${sn}". Respond in ${l}.

PMC FRAMEWORK (5 building blocks):
1) Doelmarkt ‚Äî segment selection, scoring (time-to-deal, access, budget, procurement, capability fit), TAM/SAM/SOM
2) Kernprobleem ‚Äî 6-question pain framework, decision maker mapping (economic/technical buyer, champion, blocker)
3) Waardepropositie ‚Äî "[Company] helps [TARGET] in [TIMEFRAME] from [A] to [B]", must be specific, sellable, measurable
4) Offer Packaging ‚Äî A-B-C Sprint model (A=Assessment 1-3wk, B=Build 3-6wk, C=Optimize ongoing)
5) Partnerships ‚Äî vendor alignment, certifications, channel partners, funding (MCI, Azure Accelerate, EU subsidies)

HCI METHODOLOGY: CMO‚ÜíFMO, Revynu benchmarks (62% response), multi-channel orchestration, assessment-driven engagement, 30+ years EU market entry experience.

RULES: Be practical, give concrete B2B tech examples, reference HCI methodology, keep responses concise but actionable. Format with bold for key points.`}

function toggleAI(){aiOpen=!aiOpen;document.getElementById('aiPanel').classList.toggle('open',aiOpen);document.getElementById('aiFab').classList.toggle('hidden',aiOpen);document.body.classList.toggle('ai-open',aiOpen);if(aiOpen){updateCtx();setTimeout(()=>document.getElementById('aiInput').focus(),300)}}
function updateCtx(){const t=aiTxt[aiLang],sn=stepNames[aiLang][currentStep];document.getElementById('aiCtxText').textContent=`${t.ctxPre} ${currentStep+1} ‚Äî ${sn}`}

function setAILang(l){aiLang=l;const t=aiTxt[l];document.getElementById('aiLangNL').classList.toggle('active',l==='nl');document.getElementById('aiLangEN').classList.toggle('active',l==='en');
document.getElementById('aiInput').placeholder=t.ph;document.getElementById('aiSendBtn').textContent=t.send;
document.getElementById('aiQA').innerHTML=t.qa.map(a=>`<button class="ai-quick-btn" onclick="aiQuick('${a.k}')">${a.l}</button>`).join('');
updateCtx();if(aiRec)aiRec.lang=t.sl}

/* Voice */
let aiRec=null,aiRecording=false;
if('webkitSpeechRecognition' in window||'SpeechRecognition' in window){const SR=window.SpeechRecognition||window.webkitSpeechRecognition;aiRec=new SR();aiRec.lang='nl-NL';aiRec.continuous=false;aiRec.interimResults=false;
aiRec.onstart=()=>{aiRecording=true;document.getElementById('aiVoiceBtn').classList.add('recording');document.getElementById('aiVoiceIcon').textContent='üî¥'};
aiRec.onresult=e=>{document.getElementById('aiInput').value=e.results[0][0].transcript;setTimeout(()=>aiSend(),400)};
aiRec.onerror=e=>{aiResetV();if(e.error==='not-allowed')alert(aiTxt[aiLang].vd)};aiRec.onend=aiResetV}
function aiToggleVoice(){if(!aiRec){alert(aiTxt[aiLang].vu);return}aiRecording?aiRec.stop():aiRec.start()}
function aiResetV(){aiRecording=false;document.getElementById('aiVoiceBtn').classList.remove('recording');document.getElementById('aiVoiceIcon').textContent='üé§'}

function aiQuick(k){document.getElementById('aiInput').value=aiTxt[aiLang].qm[k];aiSend()}

function aiAddMsg(c,type){const el=document.getElementById('aiChat'),t=aiTxt[aiLang],d=document.createElement('div');d.className=`ai-msg ${type}`;
d.innerHTML=`<div class="ai-msg-head"><div class="ai-msg-avatar">${type==='user'?'U':'AI'}</div><span>${type==='user'?t.u:t.a}</span></div><div class="ai-msg-body">${c}</div>`;
el.appendChild(d);el.scrollTop=el.scrollHeight}

async function aiSend(){const inp=document.getElementById('aiInput'),msg=inp.value.trim();if(!msg)return;
aiAddMsg(msg,'user');inp.value='';inp.style.height='auto';aiHistory.push({role:'user',content:msg});
const typ=document.getElementById('aiTyping');typ.classList.add('active');document.getElementById('aiSendBtn').disabled=true;document.getElementById('aiVoiceBtn').disabled=true;
try{const res=await fetch(API_ENDPOINT,{method:'POST',headers:{'Content-Type':'application/json'},
body:JSON.stringify({system:getSysPrompt(),messages:aiHistory.slice(-10),language:aiLang})});
const data=await res.json();if(!res.ok||data.error)throw new Error(data.error||'API error');
aiHistory.push({role:'assistant',content:data.reply});
typ.classList.remove('active');aiAddMsg(fmtReply(data.reply),'assistant')}
catch(e){console.error('AI:',e);typ.classList.remove('active');aiAddMsg(aiTxt[aiLang].err,'assistant')}
finally{document.getElementById('aiSendBtn').disabled=false;document.getElementById('aiVoiceBtn').disabled=false}}

function fmtReply(t){return t.replace(/\*\*(.*?)\*\*/g,'<strong>$1</strong>').replace(/\*(.*?)\*/g,'<em>$1</em>').replace(/\n\n/g,'</p><p style="margin-top:8px">').replace(/\n/g,'<br>').replace(/^/,'<p>').replace(/$/,'</p>')}

document.getElementById('aiInput').addEventListener('input',function(){this.style.height='auto';this.style.height=Math.min(this.scrollHeight,100)+'px'});

/* ‚ïê‚ïê‚ïê PAGE LANGUAGE TOGGLE ‚ïê‚ïê‚ïê */
let pageLang='nl';
const pageI18n={
nl:{
  back:'‚Üê Terug naar overzicht',
  kicker:'Fase 1 ‚Äî Onboarding Module', title:'Product-Markt Combinatie <em>Creatie</em>',
  subtitle:'Van strategie naar een gevalideerde, markt-ready propositie. 5 bouwstenen die je sequentieel doorloopt ‚Äî elk met concrete deliverables.',
  progress:' afgerond', progressDone:' afgerond ‚Äî PMC Compleet!',
  tabs:[['Doelmarkt','Definitie'],['Kernprobleem','(Pain)'],['Waarde-','propositie'],['Offer','Packaging'],['Partnerships','& Funding']],
  journey:[['PMC Creatie','5 bouwstenen'],['GTM Voorbereiding','Pitch, CRM, Campaign Box'],['Outreach & Engagement','Multi-channel executie'],['Sales Executie','CMO‚ÜíFMO, deal close']],
  prev:'‚Üê Vorige', completBtn:'‚úì PMC Afronden ‚Üí Start GTM',
  navNext:['Volgende: Kernprobleem ‚Üí','Volgende: Waardepropositie ‚Üí','Volgende: Offer Packaging ‚Üí','Volgende: Partnerships ‚Üí',''],
  navPrev:['','‚Üê Doelmarkt','‚Üê Kernprobleem','‚Üê Waardepropositie','‚Üê Offer Packaging'],
  s1:{title:'Doelmarkt Definitie',desc:'Wie is je ideale klant? Welk segment, welke urgentie, hoe groot is de markt?',
    canvas:'Doelmarkt Canvas',labels:['Segment','Omvang','Urgentie','Budget','Toegang','Procurement','Capability Fit'],
    ph:['Welke verticaal of niche?','Hoeveel organisaties? TAM / SAM / SOM?','Waarom nu? Regelgeving, budget cycle, disruptie?','Beschikbaar budget per project?','Via partners, netwerk, events, cold outreach?','Aanbesteding? Raamcontract? Direct?','Welke capabilities sluiten aan?'],
    scoring:'Segment Scoring (1-5)',criteria:['Time-to-deal','Toegang','Budget & urgentie','Procurement','Capability fit','TOTAAL'],
    help:['Hoe snel kan eerste project starten?','Directe contacten of intro\'s nodig?','Budget + dringende behoefte?','Complexiteit inkoop','Match met capabilities','Gewogen totaal'],
    tip:'Score elk sub-segment apart. Gebruik propensity data van je vendor partner als aanvulling.',
    tools:['PMC Canvas','Marktdata','HCI Database','Vendor data']},
  s2:{title:'Kernprobleem (Pain) Mapping',desc:'Wat blokkeert je doelgroep? Wie voelt de pijn het meest? 6 vragen sequentieel beantwoorden.',
    pain:'Pain Discovery ‚Äî 6 Vragen',
    qs:['<strong>Vraag 1 ‚Äî Wat probeert de klant te bereiken?</strong><br>Strategisch doel: digitalisering, AI integratie, compliance, groei...','<strong>Vraag 2 ‚Äî Wat blokkeert hen?</strong><br>Technisch, organisatorisch, compliance, kennis, budget, politiek?','<strong>Vraag 3 ‚Äî Impact van niets doen?</strong><br>Risico, kosten, concurrentiepositie, compliance boetes?','<strong>Vraag 4 ‚Äî Wie voelt de pijn?</strong><br>CIO, CISO, CFO, CEO, Compliance Officer?','<strong>Vraag 5 ‚Äî Wat al geprobeerd?</strong><br>Interne pogingen, andere leveranciers, pilots?','<strong>Vraag 6 ‚Äî Wat triggert actie NU?</strong><br>Deadline, budget cycle, incident, management wissel?'],
    valid:'Pain Validatie & Decision Makers',
    sources:['<strong>Extern:</strong> Analyst reports, sector rapporten, regelgeving','<strong>Vendor:</strong> Partner portals, propensity data','<strong>Direct:</strong> Klantgesprekken, Revynu benchmarks','<strong>Intern:</strong> HCI netwerk, partner intelligence'],
    tip:'Revynu benchmark = 62% response rate vs 2-5% cold outreach.',
    dm:'Decision Maker Mapping',dmLabels:['Economic Buyer','Technical Buyer','Champion','Blocker'],dmPh:['Wie tekent? Budget niveau?','Wie evalueert?','Intern voorstander?','Wie kan tegenhouden?'],
    tools:['Pain Canvas','Revynu','Analyst Reports','HCI Network']},
  s3:{title:'Waardepropositie Formuleren',desc:'E√©n zin: wie je helpt, tijdframe, van A naar B. Intern verkoopbaar.',
    formula:'Waardepropositie Formule',comp:'4 Componenten',compLabels:['Doelgroep','Tijdframe','Van (A)','Naar (B)'],
    compPh:['Specifieke beslisser, niet "bedrijven"','"6-10 weken", niet "snel"','Huidige pijn in klantwoorden','Meetbaar resultaat'],
    test:'Propositie Toets',checks:['<strong>Specifiek genoeg?</strong> Kan een concurrent dezelfde zin gebruiken?','<strong>Intern verkoopbaar?</strong> Champion kan het uitleggen in 1 zin?','<strong>Meetbaar?</strong> Objectief gelukt/niet gelukt?','<strong>Urgentie?</strong> Reden om NU te beginnen?','<strong>Differenti√´rend?</strong> Waarom jij?'],
    tip:'Dit wordt de kern van al je outreach. Test met 3-5 mensen.',tools:['VP Formule','Klantfeedback','Pitch Test']},
  s4:{title:'Offer Packaging: A-B-C Model',desc:'Modulaire sprints. A = voet in de deur, B = kernlevering, C = recurring.',
    sprints:'Drie Sprints',cards:[{t:'Assessment',d:'1-3 weken',desc:'Inventarisatie, gap analyse, roadmap.',dels:['Inventarisatie','Gap analyse','Roadmap','Business case B+C']},{t:'Build',d:'3-6 weken',desc:'Implementatie, deliverables, KT.',dels:['Technische impl.','Config & integratie','Kennisoverdracht','Compliance check']},{t:'Optimize',d:'Ongoing',desc:'Adoptie, ROI, uitbreiding.',dels:['Adoptie programma','Analytics & ROI','Extra use cases','Managed service']}],
    fill:'Per Sprint Invullen',fillLabels:['Sprint A ‚Äî Naam & Scope','Sprint A ‚Äî Deliverables','Sprint B ‚Äî Naam & Scope','Sprint C ‚Äî Naam & Scope'],
    fillPh:['"Readiness Sprint", "AI Maturity Scan"','Concrete output?','"Platform Deploy", "Secure Foundation"','"Adoption Program", "Managed Service"'],
    pricing:'Pricing Principes',priceList:['<strong>Sprint A laag houden</strong> ‚Äî voet in de deur','<strong>Sprint B = kernomzet</strong> ‚Äî prijs op waarde','<strong>Sprint C = recurring</strong> ‚Äî managed service','<strong>Bundel:</strong> Korting bij A+B+C pakket','<strong>Vendor funding:</strong> Incentives verlagen klantprijs'],
    tip:'Sprint A = Revynu opvolging. Benchmark ‚Üí urgentie ‚Üí Sprint A diagnose.',tools:['A-B-C Canvas','Pricing','Vendor Funding']},
  s5:{title:'Strategische Partnerships & Funding',desc:'Vendor afstemming, channel partners, financieringsroutes.',
    vendor:'Vendor / Ecosystem',vLabels:['Primaire Vendor','Solution Area','Certificeringen','Channel Partners','Vendor Contacten'],
    vPh:['Microsoft, AWS, eigen stack?','Welk vendor programma?','Vereist? Gaps?','Resellers, SI\'s?','AE, TSP, Partner Manager?'],
    funding:'Funding & Incentives',fList:['<strong>Vendor funding:</strong> MCI, Azure Accelerate, AWS Credits','<strong>Co-sell:</strong> Marketplace, referral program','<strong>EU funding:</strong> Subsidies, WBSO/RDA','<strong>Sector:</strong> SURF, ZonMw, etc.','<strong>Portal:</strong> Co-sell opportunity, propensity data'],
    tip:'Vendor funding kan Sprint A gratis maken voor de klant.',
    check:'PMC Completeness Checklist',checkList:['Doelmarkt gedefinieerd en gescoord','Kernprobleem gevalideerd (min. 2 bronnen)','Waardepropositie geformuleerd en getest','A-B-C packaging met pricing','Vendor alignment en funding routes','Top-10/20 target accounts','PMC gereed voor <strong>GTM Voorbereiding</strong>'],
    tools:['Partnership Canvas','Funding Guide','Vendor Portal','HCI Network']}
},
en:{
  back:'‚Üê Back to overview',
  kicker:'Phase 1 ‚Äî Onboarding Module', title:'Product-Market Combination <em>Creation</em>',
  subtitle:'From strategy to a validated, market-ready proposition. 5 building blocks completed sequentially ‚Äî each with concrete deliverables.',
  progress:' completed', progressDone:' completed ‚Äî PMC Complete!',
  tabs:[['Target Market','Definition'],['Core Problem','(Pain)'],['Value','Proposition'],['Offer','Packaging'],['Partnerships','& Funding']],
  journey:[['PMC Creation','5 building blocks'],['GTM Preparation','Pitch, CRM, Campaign Box'],['Outreach & Engagement','Multi-channel execution'],['Sales Execution','CMO‚ÜíFMO, deal close']],
  prev:'‚Üê Previous', completBtn:'‚úì Complete PMC ‚Üí Start GTM',
  navNext:['Next: Core Problem ‚Üí','Next: Value Proposition ‚Üí','Next: Offer Packaging ‚Üí','Next: Partnerships ‚Üí',''],
  navPrev:['','‚Üê Target Market','‚Üê Core Problem','‚Üê Value Proposition','‚Üê Offer Packaging'],
  s1:{title:'Target Market Definition',desc:'Who is your ideal customer? Which segment, what urgency, how large is the market?',
    canvas:'Target Market Canvas',labels:['Segment','Size','Urgency','Budget','Access','Procurement','Capability Fit'],
    ph:['Which vertical or niche?','How many organisations? TAM / SAM / SOM?','Why now? Regulation, budget cycle, disruption?','Available budget per project?','Via partners, network, events, cold outreach?','Tender? Framework? Direct purchase?','Which capabilities align?'],
    scoring:'Segment Scoring (1-5)',criteria:['Time-to-deal','Access','Budget & urgency','Procurement','Capability fit','TOTAL'],
    help:['How quickly can first project start?','Direct contacts or introductions needed?','Budget available + urgent need?','Procurement complexity','Match with capabilities','Weighted total'],
    tip:'Score each sub-segment separately. Use vendor partner propensity data as supplement.',
    tools:['PMC Canvas','Market data','HCI Database','Vendor data']},
  s2:{title:'Core Problem (Pain) Mapping',desc:'What blocks your target audience? Who feels the pain most? 6 sequential questions.',
    pain:'Pain Discovery ‚Äî 6 Questions',
    qs:['<strong>Q1 ‚Äî What is the customer trying to achieve?</strong><br>Strategic goal: digitalisation, AI integration, compliance, growth...','<strong>Q2 ‚Äî What blocks them?</strong><br>Technical, organisational, compliance, knowledge, budget, political?','<strong>Q3 ‚Äî Impact of inaction?</strong><br>Risk, cost, competitive position, compliance fines?','<strong>Q4 ‚Äî Who feels the pain?</strong><br>CIO, CISO, CFO, CEO, Compliance Officer?','<strong>Q5 ‚Äî What have they tried?</strong><br>Internal attempts, other vendors, pilots?','<strong>Q6 ‚Äî What triggers action NOW?</strong><br>Deadline, budget cycle, incident, management change?'],
    valid:'Pain Validation & Decision Makers',
    sources:['<strong>External:</strong> Analyst reports, sector reports, regulation','<strong>Vendor:</strong> Partner portals, propensity data','<strong>Direct:</strong> Customer conversations, Revynu benchmarks','<strong>Internal:</strong> HCI network, partner intelligence'],
    tip:'Revynu benchmark = 62% response rate vs 2-5% cold outreach.',
    dm:'Decision Maker Mapping',dmLabels:['Economic Buyer','Technical Buyer','Champion','Blocker'],dmPh:['Who signs? Budget level?','Who evaluates?','Internal advocate?','Who can block?'],
    tools:['Pain Canvas','Revynu','Analyst Reports','HCI Network']},
  s3:{title:'Value Proposition Formulation',desc:'One sentence: who you help, timeframe, from A to B. Internally sellable.',
    formula:'Value Proposition Formula',comp:'4 Components',compLabels:['Target audience','Timeframe','From (A)','To (B)'],
    compPh:['Specific decision maker, not "companies"','"6-10 weeks", not "fast"','Current pain in customer words','Measurable result'],
    test:'Proposition Test',checks:['<strong>Specific enough?</strong> Could a competitor use the same sentence?','<strong>Internally sellable?</strong> Champion can explain in 1 sentence?','<strong>Measurable?</strong> Objectively succeeded/failed?','<strong>Urgency?</strong> Reason to start NOW?','<strong>Differentiating?</strong> Why you?'],
    tip:'This becomes the core of all your outreach. Test with 3-5 people.',tools:['VP Formula','Customer feedback','Pitch Test']},
  s4:{title:'Offer Packaging: A-B-C Model',desc:'Modular sprints. A = foot in the door, B = core delivery, C = recurring.',
    sprints:'Three Sprints',cards:[{t:'Assessment',d:'1-3 weeks',desc:'Inventory, gap analysis, roadmap.',dels:['Inventory','Gap analysis','Roadmap','Business case B+C']},{t:'Build',d:'3-6 weeks',desc:'Implementation, deliverables, KT.',dels:['Technical impl.','Config & integration','Knowledge transfer','Compliance check']},{t:'Optimize',d:'Ongoing',desc:'Adoption, ROI, expansion.',dels:['Adoption programme','Analytics & ROI','Additional use cases','Managed service']}],
    fill:'Per Sprint Definition',fillLabels:['Sprint A ‚Äî Name & Scope','Sprint A ‚Äî Deliverables','Sprint B ‚Äî Name & Scope','Sprint C ‚Äî Name & Scope'],
    fillPh:['"Readiness Sprint", "AI Maturity Scan"','Concrete output?','"Platform Deploy", "Secure Foundation"','"Adoption Program", "Managed Service"'],
    pricing:'Pricing Principles',priceList:['<strong>Keep Sprint A low</strong> ‚Äî foot in the door','<strong>Sprint B = core revenue</strong> ‚Äî price on value','<strong>Sprint C = recurring</strong> ‚Äî managed service','<strong>Bundle:</strong> Discount for A+B+C package','<strong>Vendor funding:</strong> Incentives lower client price'],
    tip:'Sprint A = Revynu follow-up. Benchmark ‚Üí urgency ‚Üí Sprint A diagnosis.',tools:['A-B-C Canvas','Pricing','Vendor Funding']},
  s5:{title:'Strategic Partnerships & Funding',desc:'Vendor alignment, channel partners, funding routes.',
    vendor:'Vendor / Ecosystem',vLabels:['Primary Vendor','Solution Area','Certifications','Channel Partners','Vendor Contacts'],
    vPh:['Microsoft, AWS, own stack?','Which vendor programme?','Required? Gaps?','Resellers, SIs?','AE, TSP, Partner Manager?'],
    funding:'Funding & Incentives',fList:['<strong>Vendor funding:</strong> MCI, Azure Accelerate, AWS Credits','<strong>Co-sell:</strong> Marketplace, referral programme','<strong>EU funding:</strong> Subsidies, R&D tax credits','<strong>Sector:</strong> SURF, ZonMw, etc.','<strong>Portal:</strong> Co-sell opportunity, propensity data'],
    tip:'Vendor funding can make Sprint A effectively free for the client.',
    check:'PMC Completeness Checklist',checkList:['Target market defined and scored','Core problem validated (min. 2 sources)','Value proposition formulated and tested','A-B-C packaging with pricing','Vendor alignment and funding routes','Top-10/20 target accounts','PMC ready for <strong>GTM Preparation</strong>'],
    tools:['Partnership Canvas','Funding Guide','Vendor Portal','HCI Network']}
}};

function setPageLang(l){
  pageLang=l;
  document.getElementById('mainLangNL').classList.toggle('active',l==='nl');
  document.getElementById('mainLangEN').classList.toggle('active',l==='en');
  // Also sync AI language
  setAILang(l);
  applyPageLang();
}

function applyPageLang(){
  const t=pageI18n[pageLang];
  // Back link
  var bl=document.querySelector('.page-hero .back-link');if(bl)bl.textContent=t.back;
  // Hero
  document.querySelector('.page-hero .kicker').textContent=t.kicker;
  document.querySelector('.page-hero h1').innerHTML=t.title;
  document.querySelector('.page-hero .subtitle').textContent=t.subtitle;
  // Progress
  const done=completedSteps.size;
  document.getElementById('progressLabel').textContent=done===5?`5 / 5${t.progressDone}`:`${done} / ${totalSteps}${t.progress}`;
  // Tabs
  document.querySelectorAll('.step-tab .st-label').forEach((el,i)=>{el.innerHTML=t.tabs[i][0]+'<br>'+t.tabs[i][1]});
  // Journey
  document.querySelectorAll('.journey-phase').forEach((el,i)=>{const jp=el.querySelectorAll('.jp-text,.jp-sub');if(t.journey[i]){jp[0].textContent=t.journey[i][0];jp[1].textContent=t.journey[i][1]}});
  // Steps content ‚Äî dynamically update each step panel
  rebuildStep(0,t.s1,t);rebuildStep(1,t.s2,t);rebuildStep(2,t.s3,t);rebuildStep(3,t.s4,t);rebuildStep(4,t.s5,t);
}

function rebuildStep(idx,s,t){
  const panel=document.getElementById('step'+idx);if(!panel)return;
  // Header
  panel.querySelector('.step-header-text h2').textContent=s.title;
  panel.querySelector('.step-header-text .step-desc').textContent=s.desc;
  // Nav buttons
  const btns=panel.querySelectorAll('.nav-btn');
  if(btns[0])btns[0].innerHTML=idx===0?(t.prev):t.navPrev[idx];
  if(btns[1])btns[1].innerHTML=idx===4?t.completBtn:t.navNext[idx];
  // Tools
  const tools=s.tools;if(tools){const tr=panel.querySelector('.tools-row');if(tr)tr.innerHTML=tools.map(x=>`<span class="tool-pill">${x}</span>`).join('')}
  // Tips
  if(s.tip){const tips=panel.querySelectorAll('.tip-box .tip-text');tips.forEach(tip=>{if(tip.innerHTML.includes('HCI Tip'))tip.innerHTML=`<strong>HCI Tip:</strong> ${s.tip}`})}
}

/* Deep content rebuild - extends basic rebuildStep safely */
(function(){
var _applyOrig=applyPageLang;
applyPageLang=function(){
  _applyOrig();
  var t=pageI18n[pageLang];
  [['s1',0],['s2',1],['s3',2],['s4',3],['s5',4]].forEach(function(pair){
    var s=t[pair[0]],idx=pair[1];
    var panel=document.getElementById('step'+idx);if(!panel||!s)return;
    var blocks=panel.querySelectorAll('.block');
    var allBT=panel.querySelectorAll('.block-title');
    if(idx===0){
      if(allBT[0]&&s.canvas)allBT[0].innerHTML='<span class="bt-dot"></span> '+s.canvas;
      if(allBT[1]&&s.scoring)allBT[1].innerHTML='<span class="bt-dot"></span> '+s.scoring;
      if(blocks[0]&&s.labels){blocks[0].querySelectorAll('.canvas-field').forEach(function(f,i){var lb=f.querySelector('.canvas-label');var vl=f.querySelector('.canvas-value');if(lb&&s.labels[i])lb.textContent=s.labels[i];if(vl&&s.ph&&s.ph[i])vl.textContent=s.ph[i];})}
      panel.querySelectorAll('.score-row:not(.header)').forEach(function(r,i){var lb=r.querySelector('.sr-label');var h=r.querySelector('.sr-help');if(lb&&s.criteria&&s.criteria[i])lb.textContent=s.criteria[i];if(h&&s.help&&s.help[i])h.textContent=s.help[i];});
      var hdr=panel.querySelector('.score-row.header');if(hdr){var cells=hdr.querySelectorAll('div');if(cells[0])cells[0].textContent=pageLang==='nl'?'Criterium':'Criterion';if(cells[2])cells[2].textContent=pageLang==='nl'?'Weging':'Weight';if(cells[3])cells[3].textContent=pageLang==='nl'?'Toelichting':'Explanation';}
    }
    if(idx===1){
      if(allBT[0]&&s.pain)allBT[0].innerHTML='<span class="bt-dot"></span> '+s.pain;
      if(allBT[1]&&s.valid)allBT[1].innerHTML='<span class="bt-dot"></span> '+s.valid;
      if(allBT[2]&&s.dm)allBT[2].innerHTML='<span class="bt-dot"></span> '+s.dm;
      if(blocks[0]){blocks[0].querySelectorAll('.action-list li').forEach(function(li,i){if(s.qs&&s.qs[i])li.innerHTML=s.qs[i];})}
      var vBlock=null;allBT.forEach(function(bt,bi){if(bt.textContent.indexOf('Validat')>=0||bt.textContent.indexOf('Decision')>=0||(s.valid&&bt.textContent.indexOf(s.valid.substring(0,8))>=0))vBlock=blocks[bi]||null;});
      if(!vBlock&&blocks[1])vBlock=blocks[1];
      if(vBlock){vBlock.querySelectorAll('.action-list li').forEach(function(li,i){if(s.sources&&s.sources[i])li.innerHTML=s.sources[i];});
        vBlock.querySelectorAll('.canvas-field').forEach(function(f,i){var lb=f.querySelector('.canvas-label');var vl=f.querySelector('.canvas-value');if(lb&&s.dmLabels&&s.dmLabels[i])lb.textContent=s.dmLabels[i];if(vl&&s.dmPh&&s.dmPh[i])vl.textContent=s.dmPh[i];});}
    }
    if(idx===2){
      if(allBT[0]&&s.formula)allBT[0].innerHTML='<span class="bt-dot"></span> '+s.formula;
      if(allBT[1]&&s.comp)allBT[1].innerHTML='<span class="bt-dot"></span> '+s.comp;
      if(allBT[2]&&s.test)allBT[2].innerHTML='<span class="bt-dot"></span> '+s.test;
      if(blocks[1]){blocks[1].querySelectorAll('.canvas-field').forEach(function(f,i){var lb=f.querySelector('.canvas-label');var vl=f.querySelector('.canvas-value');if(lb&&s.compLabels&&s.compLabels[i])lb.textContent=s.compLabels[i];if(vl&&s.compPh&&s.compPh[i])vl.textContent=s.compPh[i];})}
      if(blocks[2]){blocks[2].querySelectorAll('.action-list li').forEach(function(li,i){if(s.checks&&s.checks[i])li.innerHTML=s.checks[i];})}
    }
    if(idx===3){
      if(allBT[0]&&s.sprints)allBT[0].innerHTML='<span class="bt-dot"></span> '+s.sprints;
      if(allBT[1]&&s.fill)allBT[1].innerHTML='<span class="bt-dot"></span> '+s.fill;
      if(allBT[2]&&s.pricing)allBT[2].innerHTML='<span class="bt-dot"></span> '+s.pricing;
      if(s.cards){panel.querySelectorAll('.offer-card').forEach(function(c,i){if(!s.cards[i])return;var tt=c.querySelector('.oc-title');if(tt)tt.textContent=s.cards[i].t;var du=c.querySelector('.oc-dur');if(du)du.textContent=s.cards[i].d;var de=c.querySelector('.oc-desc');if(de)de.textContent=s.cards[i].desc;c.querySelectorAll('.oc-dels li').forEach(function(li,j){if(s.cards[i].dels&&s.cards[i].dels[j])li.textContent=s.cards[i].dels[j];});})}
      if(blocks[1]){blocks[1].querySelectorAll('.canvas-field').forEach(function(f,i){var lb=f.querySelector('.canvas-label');var vl=f.querySelector('.canvas-value');if(lb&&s.fillLabels&&s.fillLabels[i])lb.textContent=s.fillLabels[i];if(vl&&s.fillPh&&s.fillPh[i])vl.textContent=s.fillPh[i];})}
      if(blocks[2]){blocks[2].querySelectorAll('.action-list li').forEach(function(li,i){if(s.priceList&&s.priceList[i])li.innerHTML=s.priceList[i];})}
    }
    if(idx===4){
      if(allBT[0]&&s.vendor)allBT[0].innerHTML='<span class="bt-dot"></span> '+s.vendor;
      if(allBT[1]&&s.funding)allBT[1].innerHTML='<span class="bt-dot"></span> '+s.funding;
      if(blocks[0]){blocks[0].querySelectorAll('.canvas-field').forEach(function(f,i){var lb=f.querySelector('.canvas-label');var vl=f.querySelector('.canvas-value');if(lb&&s.vLabels&&s.vLabels[i])lb.textContent=s.vLabels[i];if(vl&&s.vPh&&s.vPh[i])vl.textContent=s.vPh[i];})}
      if(blocks[1]){blocks[1].querySelectorAll('.action-list li').forEach(function(li,i){if(s.fList&&s.fList[i])li.innerHTML=s.fList[i];})}
      var allBlks=panel.querySelectorAll('.block');
      if(allBlks[2]){var chBT=allBlks[2].querySelector('.block-title');if(chBT&&s.check)chBT.innerHTML='<span class="bt-dot"></span> '+s.check;allBlks[2].querySelectorAll('.action-list li').forEach(function(li,i){if(s.checkList&&s.checkList[i])li.innerHTML=s.checkList[i];});}
    }
  });
};
})();

</script>
</body>
</html>
